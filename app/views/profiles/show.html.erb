<h1>Profile Page</h1>

<h3>Email: <%= @user.email %></h3>
<% if @user.username? %>
<h3>Username: <b><%= @user.username %></b></h3>
<% end %>

<h2>Special Skills</h2>
<% @user.skills.uniq.each do |skill| %>
<!-- @user.skills.distinct.pluck(:name).each -->
<ul>
<li>
<p><%= skill.name %></p>
<p>total hours: <%= skill.entries.sum(:hours) %></p>

<% if (skill.entries.sum(:hours) >= 100) %>
<div class="award">You have earned the rank of JOURNEYMAN! for <%= skill.name %></div>
<% elsif (skill.entries.sum(:hours) >= 50)%>
<div class="award">You have earned the rank of BEGINNER'S MIND! for <%= skill.name %></div>
<% elsif (skill.entries.sum(:hours) >= 10)%>
<div class="award">You have earned the rank of NOVICE! for <%= skill.name %></div>
<% else %>
<% end %>
</li>
</ul>
<% end %>
<div class="button"><%= link_to "Add a New Entry", new_entry_path %></div>
<p>Or, you can <%= link_to "Add a New Skill to the Database", new_skill_path %></p>

<!-- for doing sum of hours
 @cart.items.joins(:product).sum("products.price") -->